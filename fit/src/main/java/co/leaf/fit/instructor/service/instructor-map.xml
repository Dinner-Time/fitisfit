<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="co.leaf.fit.instructor.service.InstructorMapper">

	<resultMap type="ProgramVO" id="ProgramVO">
		<result column="pro_name" property="proName" />
	</resultMap>

	<resultMap type="InstructorVO" id="InstructorVO">
		<result column="ins_id" property="insId" />
		<result column="ins_name" property="insName" />
		<result column="ins_phone" property="insPhone" />
		<result column="ins_photo" property="insPhoto" />
		<result column="ins_history" property="insHistory" />
		<result column="ins_kakao" property="insKakao" />
		<result column="ins_insta" property="insInsta" />
		<collection property="programVO" resultMap="ProgramVO" />
	</resultMap>

	<select id="insSelectList" parameterType="InstructorVO"
		resultMap="InstructorVO">
		select fit_instructor.ins_id, fit_instructor.ins_name,
		fit_program.pro_name, fit_instructor.ins_phone
		from fit_instructor inner join fit_program
		on fit_instructor.ins_id = fit_program.pro_insid
	</select>

	<select id="insSelect" resultType="InstructorVO">
		select ins_photo, ins_name, ins_phone, ins_gender, ins_insta, ins_kakao, ins_history from fit_instructor where ins_id = #{insId}
	</select>

	<insert id="insInsert" parameterType="InstructorVO">
		insert into fit_instructor
		(ins_id, ins_photo, ins_name, ins_phone, ins_gender, ins_insta, ins_kakao,
		ins_history, ins_parid)
		values (FIT_INS_SEQ.nextval, #{insPhoto}, #{insId}, #{insPhone},
		#{insGender}, #{insInsta}, #{insKakao}, #{insHistory}, #{insParId})
	</insert>

	<update id="insUpdate" parameterType="InstructorVO">
		update fit_instructor set
		ins_photo = #{insPhoto},
		ins_name = #{insName},
		ins_phone = #{insPhone},
		ins_insta = #{insInsta},
		ins_kakao = #{insKakao},
		ins_history = #{insHistory}
		where ins_id = #{insId}
	</update>

	<delete id="insDelete" parameterType="InstructorVO">
		delete from fit_instructor where ins_id = #{insId}
	</delete>
	
</mapper>