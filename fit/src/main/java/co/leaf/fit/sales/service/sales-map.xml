<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.leaf.fit.sales.service.SalesMapper">

	<select id="salAdminList" resultType="SalesVO">
		select * from
		fit_sales
	</select>

	<select id="salAdminDetail" resultType="SalesVO">
		select s.sal_date,
			s.sal_income,
			s.sal_fee,
			SUBSTR(p.par_address,1,2) sal_parname,
			p.par_name
		from fit_sales s
		inner join fit_partner p
		on s.sal_parid = p.par_id;
	</select>
	
	<select id="salPatnerList" resultType="SalesVO">
		select * from
		fit_sales where sal_parid = #{salParId}
	</select>

	<insert id="salPartnerInsert" parameterType="SalesVO">
		insert into fit_sales
		values
		(#{salDate},
		#{salParId},
		#{salIncome},
		#{salFee})
	</insert>

	<update id="salPartnerUpdate" parameterType="SalesVO">
		update fit_sales set
		sal_income = #{salIncome}, sal_fee = #{salFee} where sal_date =
		#{salDate} and sal_parid = #{salParId}
	</update>

</mapper>